<div class="space-y-6">
  {% if posts and posts.length > 0 %}
    {% set displayPosts = posts.slice(0, maxPosts or posts.length) %}
    {% for post in displayPosts %}
      <article class="post-summary bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 hover:shadow-md transition-all duration-300 group relative">
        {# 精选标识 - 仅对 featured: true 的文章显示 #}
        {% if post.featured %}
          <div class="absolute top-4 right-4 z-10 bg-accent text-white text-xs px-2 py-1 rounded-full flex items-center gap-1">
            <i class="fa fa-star"></i> 精选
          </div>
        {% endif %}
        
        <div class="flex flex-col md:flex-row gap-6">
          <div class="md:w-1/3">
            <div class="rounded-lg overflow-hidden h-40 md:h-full">
              <img 
                src="{{ (config.baseUrl + post.cover) }}" 
                alt="{{ post.title }}" 
                class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"
              >
            </div>
          </div>
          <div class="md:w-2/3">
            <!-- 1. 发布时间 + 修改时间 -->
            <div class="post-meta flex items-center text-sm mt-2 mb-3">
                <div class="flex items-center mr-4">
                    <i class="fa fa-calendar-o mr-1 text-primary"></i>
                    <span class="text-gray-500 dark:text-gray-400">{{ post.date | date('yyyy年MM月dd日') }}</span>
                </div>
{% if post.updated %}
  <span class="text-gray-500 dark:text-gray-400">
    <i class="fa fa-refresh mr-1 text-secondary"></i>
    更新于 {{ post.updated | relativeDate }}
  </span>
{% endif %}
            </div>
            
            <!-- 2. 标题 -->
            <h2 class="text-xl font-bold">
                <a href="{{ config.baseUrl }}/posts/{{ post.slug }}/" class="text-dark dark:text-white hover:text-primary transition-colors group-hover:underline">
                    {{ post.title }}
                </a>
            </h2>

            <!-- 新增：作者信息 -->
             {% if post.author %}
            <div class="flex items-center text-gray-600 dark:text-gray-400 mb-3 text-sm mt-3">
                <i class="fa fa-user-circle-o mr-2 text-primary"></i>
                <span>{{ post.author }}</span>
            </div>
            {% endif %}
            
            <!-- 3. 标签和阅读更多 -->
            <div class="flex flex-wrap items-center justify-between gap-4">
                <div class="post-tags flex flex-wrap gap-2">
                    {% for tag in post.tags.slice(0, 3) %}
                        <a href="{{ config.baseUrl }}/tags/{{ tag }}/" class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full hover:bg-primary/20 transition-colors">
                            #{{ tag }}
                        </a>
                    {% endfor %}
                </div>
                
                <!-- 4. 阅读更多 -->
                <a href="{{ config.baseUrl }}/posts/{{ post.slug }}/" class="inline-flex items-center text-primary font-medium mt-4 hover:text-secondary hover:underline">
                    阅读更多 <i class="fa fa-angle-right ml-1"></i>
                </a>
            </div>
          </div>
        </div>
      </article>
      
      <!-- 分隔线 -->
      {% if not loop.last and loop.index % 3 == 0 %}
          <div class="relative my-6">
              <div class="absolute inset-0 flex items-center">
                  <div class="w-full border-t border-gray-200 dark:border-gray-700"></div>
              </div>
              <div class="relative flex justify-center text-xs uppercase">
                  <span class="bg-white dark:bg-gray-900 px-4 py-1 text-gray-500">
                      <i class="fa fa-star text-accent mr-1"></i> 继续探索 <i class="fa fa-star text-accent ml-1"></i>
                  </span>
              </div>
          </div>
      {% endif %}
    {% endfor %}
  {% else %}
    <!-- 无文章时显示 -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center">
      <i class="fa fa-file-text-o text-4xl text-gray-300 dark:text-gray-600 mb-4"></i>
      <p class="text-gray-500 dark:text-gray-400">暂无相关文章</p>
    </div>
  {% endif %}
</div>