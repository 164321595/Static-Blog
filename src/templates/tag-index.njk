{% extends "base.njk" %}
{% set isTag = true %}

{% block title %}所有标签 - {{ config.siteName }}{% endblock %}

{% block content %}
  <div class="container mx-auto px-4 py-16 max-w-6xl">
    <!-- 全新标签云标题 -->
    <div class="tag-title-container mb-16 text-center">
      <div class="flex items-center justify-center mb-6">
        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mr-3 animate-pulse">
          <i class="fa fa-tags text-primary text-xl"></i>
        </div>
        <h2 class="text-4xl md:text-5xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary">
          标签云
        </h2>
      </div>
      <p class="text-gray-600 dark:text-gray-400 max-w-md mx-auto relative inline-block">
        <span class="relative z-10">探索所有主题标签，发现相关内容</span>
        <span class="absolute bottom-1 left-0 w-full h-3 bg-secondary/20 -z-10 transform -rotate-1"></span>
      </p>
      
      <!-- 装饰元素 -->
      <div class="absolute left-1/4 top-1/3 w-8 h-8 bg-primary/10 rounded-full filter blur-xl animate-float"></div>
      <div class="absolute right-1/4 top-1/3 w-10 h-10 bg-secondary/10 rounded-full filter blur-xl animate-float" style="animation-delay: 1s"></div>
    </div>
    
    <!-- 优化后的标签云主体 -->
    <div class="tag-cloud flex flex-wrap justify-center gap-4 md:gap-5">
      {% for tag in tags %}
        <a 
          href="{{ config.baseUrl }}/tags/{{ tag }}/" 
          class="tag relative inline-flex items-center px-5 py-3 rounded-full 
                  bg-white dark:bg-gray-800 
                  text-dark dark:text-gray-100 
                  shadow-md hover:shadow-lg 
                  border border-gray-100 dark:border-gray-700 
                  transition-all duration-400 ease-out 
                  group overflow-hidden 
                  opacity-0 transform translate-y-4"
          style="animation: fadeInUp 0.5s ease forwards {{ loop.index * 0.05 }}s"
        >
          <!-- 标签图标 -->
          <i class="fa fa-hashtag mr-2 text-primary group-hover:text-secondary transition-colors"></i>
          
          <!-- 标签文字 -->
          <span class="relative z-10 font-medium">
            {{ tag }}
          </span>
          
          <!-- 背景光效 -->
          <span class="absolute inset-0 bg-gradient-to-r from-primary/5 to-secondary/5 group-hover:from-primary/10 group-hover:to-secondary/10 transition-all duration-300"></span>
          
          <!-- 悬停动画元素 -->
          <span class="absolute -right-10 -top-10 w-20 h-20 bg-primary/10 dark:bg-primary/20 rounded-full transform scale-0 group-hover:scale-100 transition-transform duration-500 ease-out"></span>
          <span class="absolute -left-10 -bottom-10 w-20 h-20 bg-secondary/10 dark:bg-secondary/20 rounded-full transform scale-0 group-hover:scale-100 transition-transform duration-500 ease-out delay-100"></span>
          
          <!-- 点击反馈效果 -->
          <span class="absolute inset-0 rounded-full border-2 border-primary/0 group-hover:border-primary/30 transition-all duration-300"></span>
        </a>
      {% endfor %}
    </div>
    
    <!-- 空状态处理 -->
    {% if tags.length === 0 %}
      <div class="text-center py-20">
        <div class="w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-6">
          <i class="fa fa-tags text-gray-400 text-2xl"></i>
        </div>
        <h3 class="text-xl font-medium text-gray-700 dark:text-gray-300 mb-2">暂无标签</h3>
        <p class="text-gray-500 dark:text-gray-400">内容更新中，敬请期待</p>
      </div>
    {% endif %}
  </div>

  <style>
    /* 基础动画定义 */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    /* 标签交互增强 */
    .tag:hover {
      transform: translateY(-3px) scale(1.02);
    }
    
    /* 标签云容器 */
    .tag-cloud {
      position: relative;
      padding: 20px;
    }
    
    /* 装饰背景 */
    .tag-cloud::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 80%;
      height: 80%;
      background: radial-gradient(circle, rgba(59, 130, 246, 0.05) 0%, transparent 70%);
      transform: translate(-50%, -50%);
      z-index: -1;
    }
  </style>
{% endblock %}